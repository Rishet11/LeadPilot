# LeadPilot Backend Environment Variables
# Copy this to .env and fill in your values

# ===========================================
# REQUIRED - External Services
# ===========================================

# Apify API token for scraping
# Get from: https://console.apify.com/account/integrations
APIFY_API_TOKEN=apify_api_xxx

# Google Gemini API key for AI outreach
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIza...

# Google OAuth client ID (used by backend token verification and frontend sign-in button)
# Create OAuth Web application credentials in Google Cloud Console
GOOGLE_CLIENT_ID=

# ===========================================
# OPTIONAL - Configuration
# ===========================================

# Runtime mode and auth behavior
ENVIRONMENT=development
REQUIRE_AUTH=true
AUTH_SESSION_TTL_DAYS=30

# CORS allowed origins (comma-separated)
# Default: http://localhost:3000
# Production example: https://leadpilot.vercel.app
ALLOWED_ORIGINS=http://localhost:3000

# Maximum concurrent scrape jobs
MAX_CONCURRENT_JOBS=3
LEADPILOT_WORKER_POLL_SECONDS=2
LEADPILOT_WORKER_MAX_ATTEMPTS=3
LEADPILOT_WORKER_BASE_BACKOFF_SECONDS=30
LEADPILOT_WORKER_STUCK_TIMEOUT_SECONDS=900

# Lemon Squeezy plan variant IDs (used for entitlement mapping)
LEMON_STARTER_VARIANT_ID=
LEMON_GROWTH_VARIANT_ID=
LEMON_SQUEEZY_WEBHOOK_SECRET=

# Frontend checkout links (used by /pricing page buttons)
NEXT_PUBLIC_LEMON_STARTER_URL=
NEXT_PUBLIC_LEMON_GROWTH_URL=

# Rate limits (per IP)
RATE_LIMIT_SCRAPE=10/hour
RATE_LIMIT_READ=100/minute
RATE_LIMIT_WRITE=30/minute

# Guest preview tuning (landing page no-login demo)
# GUEST_PREVIEW_MODE:
# - demo (recommended): always fast demo-mode preview
# - live: force live provider calls (slower)
# - auto: live only if APIFY_API_TOKEN is present
GUEST_PREVIEW_MODE=demo
GUEST_PREVIEW_CACHE_TTL_SECONDS=600
GUEST_PREVIEW_TIMEOUT_SECONDS=12
NEXT_PUBLIC_GUEST_PREVIEW_TIMEOUT_MS=8000
